campaignTrail_temp.election_json = [
    {
        "model": "campaign_trail.election",
        "pk": 15,
        "fields": {
            "year": 1988,
            "summary": "As Wallace lay defeated in 1958, broken by the southern machine that had done nothing to raise Alabama from its status as a \"Dead last State\", nothing shall stop him from taking power now.<br><br>While Wallace used to be a \"Racial Moderate\", favoring gradual emancipation since his time as a judge treating both blacks and whites fairly, the support of the NAACP to his campaign 4 years ago where no use faced with the candidate of the Klu Klux Klan.<br><br>Now, if he was to become anyone, to be able to do anything, he had to do everything to get to the governor's house.\n\nFor what was hell paved out of if but from good intention?",
            "image_url": "https://images-ext-1.discordapp.net/external/JS883FIYDLsQShLB8hLs_H8dyMyFXJ1dY48oM8x0UFk/https/i.imgur.com/WKRI1Mm.png?width=1280&height=720",
            "winning_electoral_vote_number": 270,
            "advisor_url": "https://images-ext-1.discordapp.net/external/KMwuxMDAp_8rRD8DjYnmqq3rKCJmOe51MasvlPNTynU/https/i.imgur.com/EoNXsm5.png?width=794&height=642",
            "recommended_reading": "<h4 style=\"margin-top: 0.5em;\">The Florida Recount / 2000 Election</h4><a href=\"http://www.amazon.com/exec/obidos/ASIN/B000RH0DVM/amhius20-20\" target=”_blank”>Jeffrey Toobin - Too Close to Call: The Thirty-Six-Day Battle to Decide the 2000 Election</a></br><a href=\"http://www.amazon.com/exec/obidos/ASIN/B00EMLDHFI/amhius20-20\" target=”_blank”>Andrew E. Busch & James W. Ceaser - The Perfect Tie: The True Story of the 2000 Presidential Election</a></br><a href=\"http://www.amazon.com/exec/obidos/ASIN/032110028X/amhius20-20\" target=”_blank”>Larry Sabato - Overtime! The Election 2000 Thriller</a><h4>Books by the Candidates</h4><a href=\"http://www.amazon.com/exec/obidos/ASIN/B000C4SV2I/amhius20-20\" target=”_blank”>George W. Bush - A Charge to Keep: My Journey to the White House</a></br><a href=\"http://www.amazon.com/exec/obidos/ASIN/0452269350/amhius20-20\" target=”_blank”>Al Gore - Earth in the Balance</a></br><a href=\"http://www.amazon.com/exec/obidos/ASIN/B003YFIYWY/amhius20-20\" target=”_blank”>The Ralph Nader Reader</a><h4>Links</h4><a href=\"http://www.digitalhistory.uh.edu/disp_textbook.cfm?smtID=2&psid=3377\" target=”_blank”>Digital History - The Disputed Election of 2000</a></br><a href=\"http://www.pbs.org/wnet/supremecourt/future/landmark_bush.html\" target=”_blank”><em>Bush v. Gore</em></a></br><a href=\"http://www.vanityfair.com/news/2004/10/florida-election-2000\" target=”_blank”>The Path to Florida</a></br><a href=\"http://www.historyplace.com/speeches/gore-concedes.htm\" target=”_blank”>Al Gore Concedes the 2000 Election</a>",
            "recommended_reading": "<h4 style=\"margin-top: 0.5em;\">Books and Links</h4>Peter Goldman - <a href=\"http://www.amazon.com/exec/obidos/ASIN/B012HU7SZA/amhius20-20\" target=\"_blank\">The Quest for the Presidency, 1988</a></br>L.A. Times, November 10, 1988 - <a href=\"http://articles.latimes.com/1988-11-10/news/mn-299_1_dukakis-lost-reelection\" target=\"_blank\">How Presidential Race Was Won-and Lost : Michael S. Dukakis</a></br>L.A. Times, November 10, 1988 - <a href=\"http://articles.latimes.com/1988-11-10/news/mn-302_1_george-bush\" target=\"_blank\">How Presidential Race Was Won--and Lost : George Bush</a></br><a href=\"http://www.usnews.com/news/articles/2008/01/17/the-photo-op-that-tanked\" target=\"_blank\">Michael Dukakis: The Photo Op That Tanked</a>",
            "has_visits": 1,
            "no_electoral_majority_image": "https://www.jetsimon.com/public/static/images/2012-no-majority.jpg",
            "creator": "Dan Bryan",
            "display_year": "1962 Sweet Home"
        }
    }
]

campaignTrail_temp.candidate_json = [
    {
        "model": "campaign_trail.candidate",
        "pk": 152,
        "fields": {
            "first_name": "George Corley ",
            "last_name": "Wallace",
            "election": 15,
            "party": "Alabama Democratic Party",
            "state": "Barbour",
            "priority": 1,
            "description": "There are few men that have had bigger burning ambition than George Wallace.<br><br> A judge by trade, from his time as delegate in 1948 to his first run in 1958, he had become both an anti establishment candidate in the one party state of the deep south as well as a populist. Having refused to support the Dixiecrat secession from the democratic convention against Truman and having gained the reputation as a judge which was both fair and Respectful to blacks, what was to stop him from gaining the governorship?<br><br>He had been beaten. Having spoken out against the Klan terrorist activities, he had no chance to succeed against hardline segregationist John M. Patterson. Four Years later, he was once again running for the governorship. When he talked about good roads and good schools and all those things that have been part of his career, nobody listened. When he shall talk about blacks, they will stomp the floor.",
            "color_hex": "#0000FF",
            "secondary_color_hex": null,
            "is_active": 1,
            "image_url": "https://images-ext-1.discordapp.net/external/GCOwlYFh1gDniMuO2YQLjwjevCJvegykUY9YPmtdTXg/https/i.imgur.com/MXwdV2s.png?width=388&height=518",
            "electoral_victory_message": "This guy wins!",
            "electoral_loss_message": "This guy loses!",
            "no_electoral_majority_message": "We all win?",
            "description_as_running_mate": null,
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 158,
        "fields": {
            "first_name": "Democratic party ",
            "last_name": "Of Alabama",
            "election": 15,
            "party": "Democratic party",
            "state": "Nationwide",
            "priority": 1,
            "description": "<p>Put description here</p>",
            "color_hex": "#0000FF",
            "secondary_color_hex": null,
            "is_active": 0,
            "image_url": "https://images-ext-1.discordapp.net/external/DuvRliNnH9EvsCd4RdeLhskvWtrlCl6YMDfFIbTJGnQ/https/i.imgur.com/WpakIM8.png?width=956&height=1066",
            "electoral_victory_message": "This guy wins!",
            "electoral_loss_message": "This guy loses!",
            "no_electoral_majority_message": "We all win?",
            "description_as_running_mate": "To say that the democratic party of Alabama as nothing democratic about it would be stating plain facts.<br><br>Since the end of reconstruction and the near total disenfranchisement of all blacks in the state, the party has run functionally unopposed for nearly a century. Champion of the status quo, white interest and the continued domination of White on the segregated blacks, it was only with the walkout of 48 that things began to change.<br><br>The party has since become divided between progressivist, racial moderates and the hard line segregationist. No other party having any influence in the state, this has turned this party into a truly cutthroat institution where each and every member backstab and double cross their neighbor to gain power for themselves.<br><br>As a result of it, the perfectly dysfunctional institution is finally beginning to show cracks as the segregationist party took back control in 1958. If anything was to improve in the state so long seen as the least of the 50 states, decisive action needs to be taken.",
            "candidate_score": 1,
            "running_mate": true
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 153,
        "fields": {
            "first_name": "RyanDe",
            "last_name": "Graffenried",
            "election": 15,
            "party": "Alabama Democratic Party",
            "state": "Alabama",
            "priority": 1,
            "description": "<p>Put description here</p>",
            "color_hex": "#0000FF",
            "secondary_color_hex": null,
            "is_active": 0,
            "image_url": "https://images-ext-1.discordapp.net/external/ZLjroOGG977Z8Hn9FD7H_kYdfzbpFEd9fxer_ZeJTHo/https/i.imgur.com/pGUGbit.png?width=700&height=908",
            "electoral_victory_message": "This guy wins!",
            "electoral_loss_message": "This guy loses!",
            "no_electoral_majority_message": "We all win?",
            "description_as_running_mate": null,
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 154,
        "fields": {
            "first_name": "Bull",
            "last_name": "Connor",
            "election": 15,
            "party": "Alabama Democratic Party",
            "state": "Alabama",
            "priority": 1,
            "description": "<p>Put description here</p>",
            "color_hex": "#53d5fd",
            "secondary_color_hex": null,
            "is_active": 0,
            "image_url": "https://images-ext-1.discordapp.net/external/a1V5C7J_Q_FA2A385c6NXh3a3dSk_nWuMjvf3FLufN0/https/i.imgur.com/MQbp2Xk.png?width=802&height=996",
            "electoral_victory_message": "This guy wins!",
            "electoral_loss_message": "This guy loses!",
            "no_electoral_majority_message": "We all win?",
            "description_as_running_mate": null,
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 155,
        "fields": {
            "first_name": "William",
            "last_name": "Longshore ",
            "election": 15,
            "party": "Republican",
            "state": "Alabama",
            "priority": 1,
            "description": "<p>Put description here</p>",
            "color_hex": "#ff2600",
            "secondary_color_hex": null,
            "is_active": 0,
            "image_url": "https://images-ext-1.discordapp.net/external/frSf8gp2Qq-U_-a3iEJJkOsVPyzTE_NfiWPcQCrF6l8/https/i.imgur.com/SbW8Din.png?width=540&height=644",
            "electoral_victory_message": "This guy wins!",
            "electoral_loss_message": "This guy loses!",
            "no_electoral_majority_message": "We all win?",
            "description_as_running_mate": null,
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 156,
        "fields": {
            "first_name": "",
            "last_name": "Independent",
            "election": 15,
            "party": "Independent",
            "state": "Alabama",
            "priority": 1,
            "description": "<p>Put description here</p>",
            "color_hex": "#00f900",
            "secondary_color_hex": null,
            "is_active": 0,
            "image_url": "https://www.jetsimon.com/public/candidateexample.png",
            "electoral_victory_message": "This guy wins!",
            "electoral_loss_message": "This guy loses!",
            "no_electoral_majority_message": "We all win?",
            "description_as_running_mate": null,
            "candidate_score": 1,
            "running_mate": false
        }
    }
]


campaignTrail_temp.running_mate_json = [
    {
        "model": "campaign_trail.running_mate",
        "pk": 110673,
        "fields": {
            "candidate": 152,
            "running_mate": 158
        }
    }
]

campaignTrail_temp.credits = "Ohas and Ul"



campaignTrail_temp.temp_election_list = [
    {
        "id": 15,
        "year": 1988,
        "is_premium": 0,
        "display_year": "1962 Sweet Home"
    }
]



//#startcode



  
corrr = '\n              <h2>Sweet Home</h2>\n            ';
            
            
nct_stuff.themes[nct_stuff.selectedTheme].coloring_title = "#565d8f";

nct_stuff.themes[nct_stuff.selectedTheme].coloring_window = "#eef0f6";

document.getElementsByClassName("game_header")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_title;

$("#game_window")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_window;

$(".container")[0].style.backgroundColor = "#393e60";

document.getElementById("header").src = "https://i.imgur.com/EMGFKOc.jpeg";

document.body.background = "https://coolbackgrounds.io/images/backgrounds/white/pure-white-background-85a2a7fd.jpg";

document.head.innerHTML += "<style>#results_container {color:#000000;} .inner_window_w_desc {background-color:#E8FBFF!important;}</style>";

//#endcode
// Initialise custom music

$("#music_player")[0].children[0].style.display="none"
$("#music_player")[0].children[1].style.display="none"

document.getElementById("modLoadReveal").style.display="none"
document.getElementById("modloaddiv").style.display="none"

musicBox = document.getElementById("music_player")
musicBox.style.display=""

var trackSel;
e = campaignTrail_temp
e.selectedSoundtrack = 0

toTime = (seconds) => {
  var date = new Date(null);
  date.setSeconds(seconds);
  return date.toISOString().substr(11, 8);
}

generateTime = () => {
    // Get the audio element
    var audio = document.getElementById("campaigntrailmusic");

    timeTracker = document.createElement("div");
    timeTracker.style = `
      text-align:left;
      border-style:solid;
      border-width:3px;
      height:150px;
      width:200px;
      background-color:#999999;
      float:right;
      padding: 10px;
    `
    $("#trackSelParent")[0].prepend(timeTracker);
    $("#trackSelParent")[0].prepend(document.createElement("br"));

    // Create a new element to display the current position of the audio
    var positionDisplay = document.createElement("gg");
    positionDisplay.id = "position-display";

    // Create a new slider element to change the time
    var timeSlider = document.createElement("input");
    timeSlider.type = "range";
    timeSlider.min = 0;
    timeSlider.max = 1;
    timeSlider.step = 0.001;
    timeSlider.value = 0;
    timeSlider.style.width = "200px";
    timeSlider.id = "time-slider";

    var pausePlay = document.createElement("button");
    pausePlay.id = "position-display";
    pausePlay.innerHTML = "<b>Pause</b>"
    pausePlay.style.width = "100%";


    pausePlay.addEventListener("click", event => {
      event.preventDefault();
      updatePositionDisplay();
      let audio = document.getElementById("campaigntrailmusic");
      if (audio.paused) {
        audio.play();
        event.target.innerHTML = "<b>Pause</b>";
        return;
      }
      audio.pause();
      event.target.innerHTML = "<b>Play</b>";
      return;
    })

    var volumeLabel = document.createElement("gg");
    volumeLabel.id = "volume-label";
    volumeLabel.innerHTML = "<br><b>Volume: </b>"

    var volumeSlider = document.createElement("input");
    volumeSlider.type = "range";
    volumeSlider.min = 0;
    volumeSlider.max = 1;
    volumeSlider.step = 0.001;
    volumeSlider.value = 0;
    volumeSlider.style.width = "200px";
    volumeSlider.id = "volume-slider";

    volumeSlider.value = audio.volume;

    timeTracker.appendChild(pausePlay);
    timeTracker.appendChild(document.createElement("br"));
    timeTracker.appendChild(document.createElement("br"));
    timeTracker.appendChild(positionDisplay);
    timeTracker.appendChild(timeSlider);
    timeTracker.appendChild(volumeLabel);
    timeTracker.appendChild(volumeSlider);

    updatePositionDisplay();

    //for (let i = 0; i < 10; i++)
    //timeTracker.append(document.createElement("br"));


    // Function to update the position display
    function updatePositionDisplay() {
      positionDisplay.innerHTML = "<b>Time:</b> " + toTime(audio.currentTime) + "<br>";
      timeSlider.value = audio.duration ? audio.currentTime / audio.duration : 0;
    }

    // Function to change the time of the audio
    function changeTime() {
      positionDisplay.innerHTML = "<b>Time:</b> " + toTime(audio.currentTime) + "<br>";
      audio.currentTime = timeSlider.value * audio.duration;
    }

    updateVolume = event => {
      audio.volume = event.target.value;
    }
    
    // Update the position display and slider every second
    setInterval(updatePositionDisplay, 1000);

    // Listen for changes to the time slider and change the time of the audio
    timeSlider.addEventListener("input", changeTime);
    volumeSlider.addEventListener("input", updateVolume)
}

function newMusicPlayer() {
  trackSel = document.createElement("div");
  trackSel.id = "trackSelParent"
  let z = `<br><br><br><br><br><br><br><br><br><br><div id='trackSel' style="text-align:left;border-style:solid;border-width:3px;overflow-y: scroll;overflow-x: hidden;height:200px; width:400px;background-color:#999999;float:right;">`
  z += `<b><select id='selectSoundtrack'><option value='`+soundtracks[e.selectedSoundtrack].name+`'>`+soundtracks[e.selectedSoundtrack].name+"</option>"
  for (i in soundtracks) {
    if (soundtracks[e.selectedSoundtrack] != soundtracks[i]) {
      z += `<option value='`+soundtracks[i].name+`'>`+soundtracks[i].name+`</option>`
    }
  }
  z += `</select></b><br><br>`
  // <label><input type="radio" name="option" value="option1">Option 1</label><br>
  for (i in soundtracks[e.selectedSoundtrack].tracklist) {
    let a = soundtracks[e.selectedSoundtrack].tracklist[i]
    let b = `<label><input class="trackSelector" type="radio" name="trackSelector" value="`+i+`">`+a.name+`</label><br>`
    z += b
  }
  z += "</div><br><br>"
  trackSel.innerHTML = z

  // select correct song

  musicBox.appendChild(trackSel);
  Array.from(document.getElementById("trackSel").children).filter(f=>{
    return f.tagName == "LABEL"
  }).map(f=>f.children[0])[0].checked = true

  // set soundtrack changer

  soundtrackSelector = document.getElementById("selectSoundtrack")
  soundtrackSelector.onchange = function() {
    for (i in soundtracks) {
      if (soundtracks[i].name == soundtrackSelector.value) {
        e.selectedSoundtrack = i
        break
      }
    }
    document.getElementById("trackSelParent").remove()
    newMusicPlayer()
  }

  var matches = document.querySelectorAll('.trackSelector');

  for (match in matches) {
    matches[match].onchange = function() {
      audio = $("#campaigntrailmusic")[0];
      audio.src = soundtracks[e.selectedSoundtrack].tracklist[this.value].url
      audio.currentTime = 0
    }
  }

  musicBox.children[2].loop = false
  musicBox.children[2].src = soundtracks[e.selectedSoundtrack].tracklist[0].url

  musicBox.children[2].onended = function() {
    console.log("next track")
    let selected = Number(document.querySelector('input[name="trackSelector"]:checked').value);
    let newSel = clamp(selected+1, soundtracks[e.selectedSoundtrack].tracklist.length-1, 0)
    let buttons = Array.from(document.getElementById("trackSel").children).filter(f=>{
      return f.tagName == "LABEL"
    }).map(f=>f.children[0])
    //let selectedIndex = buttons.map(f=>f.children[0]).map(f=>f.checked)
    buttons[newSel].click()
  }

  for (w = 0; w < 7; w++) {
    document.getElementById("trackSelParent").appendChild(document.createElement("br"))
  }
  
  generateTime();
}

clamp = function(a, max, min, overflow=true) {
  if (overflow) {
    return a > max ? min : a < min ? max : a;
  }
  return a > max ? max : a < min ? min : a;
}


// Track list

var soundtracks = {
  0: {
    name: "Sweet Home Alabama",
    tracklist: [
      {
        "name": "Burning Bridges",
        "url": "https://cdn.discordapp.com/attachments/1194028168529592410/1194379724508627056/y2mate.is_-_Mike_Curb_Congregation_Burning_Bridges_with_lyrics_-qXIjE_gDw94-128k-1704832669.mp3?ex=65b023cc&is=659daecc&hm=629a0cb8eb5ac452af2f47bc631fc52ff084474273495cf679f1dc8efb119d87&"
      },
      {
        "name": "For What Its Worth",
        "url": "https://cdn.discordapp.com/attachments/1194028168529592410/1194380319789432882/y2mate.is_-_Buffalo_Springfield_For_What_It_s_Worth_Official_Audio_-80_39eAx3z8-128k-1704832828.mp3?ex=65b0245a&is=659daf5a&hm=d610b18024e310b3b18ee71c91f800febd758141193928a102bce8165f7036b5&"
      },
      {
        "name": "Sink the Bismark",
        "url": "https://cdn.discordapp.com/attachments/1194028168529592410/1194380640775323648/y2mate.is_-_sink_the_bismarck___johnny_horton-M1Ufc2hI4FM-128k-1704832915.mp3?ex=65b024a7&is=659dafa7&hm=e403deb7d98974d4b47084c66ee2f2dc60369e465e55a8cd546817cd38092a77&"
      },
      {
        "name": "Folsom Prison Blues",
        "url": "https://cdn.discordapp.com/attachments/1194028168529592410/1194381031608963172/y2mate.is_-_Johnny_Cash_Folsom_Prison_Blues_Official_Audio_-AeZRYhLDLeU-128k-1704832993.mp3?ex=65b02504&is=659db004&hm=5508f352bc74a942faa8aacb670451c258d0748993160bdbb322268fbc76b5ba&"
      },
      {
        "name": "Swinging on a Star",
        "url": "https://cdn.discordapp.com/attachments/1194028168529592410/1194381485747228834/y2mate.is_-_Bing_Crosby_Swinging_on_a_star-rATftJiWdkw-128k-1704833116.mp3?ex=65b02570&is=659db070&hm=fbb30e7b0d2e53109e1d244165a1def0d523a2c1d51ab340ca7fdda3c4a07463&"
      },
   ]
   }	  
}

// Set up new music player

newMusicPlayer()








